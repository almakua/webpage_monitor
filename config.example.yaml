# =============================================================================
# WEBPAGE MONITOR - Configurazione
# =============================================================================
# Copia questo file in config.yaml e modifica i valori

# -----------------------------------------------------------------------------
# NOTIFICHE (via ntfy.sh o server self-hosted)
# -----------------------------------------------------------------------------
# 1. Installa l'app ntfy sul telefono (Android/iOS)
# 2. Sottoscrivi i topic che vuoi ricevere
# 3. Ogni monitor può avere il suo topic (o usare quello di default)

notifications:
  ntfy:
    enabled: true
    server: "https://ntfy.sh"
    default_topic: "marco-monitor-general"  # topic di fallback
    
    # Autenticazione (opzionale, per server self-hosted)
    # Opzione 1: Username e password
    # username: "tuo_username"
    # password: "tua_password"
    
    # Opzione 2: Access token (consigliato)
    # token: "tk_xxxxxxxxxxxxxxxxxxxxxxxxxx"

# -----------------------------------------------------------------------------
# MONITORS
# -----------------------------------------------------------------------------
monitors:
  # One Piece - TCB Scans
  one_piece:
    enabled: true
    name: "One Piece (TCB Scans)"
    url: "https://tcbonepiecechapters.com/"
    type: "one_piece"
    ntfy_topic: "marco-onepiece"  # topic dedicato

  # WTC Terrain Map Pack
  wtc_terrain:
    enabled: true
    name: "WTC Terrain Map Pack"
    url: "https://worldteamchampionship.com/wtc-rules/"
    type: "wtc_terrain"
    download_pdf: true
    compress_pdf: true
    ntfy_topic: "marco-wtc"  # topic dedicato

# -----------------------------------------------------------------------------
# SCHEDULER (per modalità daemon/container)
# -----------------------------------------------------------------------------
scheduler:
  # Intervallo tra i controlli (in minuti)
  interval_minutes: 60
  
  # Aggiungi delay casuale per non sovraccaricare i server
  randomize_delay: true
  max_random_delay_minutes: 5

# -----------------------------------------------------------------------------
# IMPOSTAZIONI GENERALI
# -----------------------------------------------------------------------------
settings:
  # Directory per i download
  # Locale: "./downloads"
  # Docker: "/config/downloads" (persistente nel volume)
  download_dir: "./downloads"
  
  # File di stato
  # Locale: "./state.json"
  # Docker: "/config/state.json" (persistente nel volume)
  state_file: "./state.json"
  
  # Retry prima di segnalare errore
  max_retries: 3
  retry_delay: 30
  
  # User agent
  user_agent: "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36"
